@base <https://ns.inria.fr/hmas/> .

# Artifacts
@prefix filling-machine: <workspaces/yogurt-production-site/artifacts/filling-machine#> .
@prefix turtle-bot: <workspaces/yogurt-production-site/artifacts/turtle-bot#> .
@prefix conveyor-belt: <workspaces/yogurt-production-site/artifacts/conveyor-belt#> .

# Workspaces
@prefix yogurt-production: <workspaces/yogurt-production-site#> .

# Agents
@prefix agent-a: <workspaces/yogurt-production-site/agents/agent-b#> .
@prefix agent-e: <workspaces/yogurt-production-site/agents/agent-c#> .

# Organizations
@prefix ypr-org: <organizations/ypr#> .

# Platforms
@prefix platform: <#platform> .

# Other prefixes
@prefix hmas: <https://purl.org/hmas/> .

@prefix sh: <http://www.w3.org/ns/shacl#> .

@prefix ex: <https://www.example.org/> .

#############
# Artifacts #
#############

turtle-bot:artifact a hmas:Artifact ;
    hmas:isHostedOn platform:platform .

conveyor-belt:artifact a hmas:Artifact ;
    hmas:isHostedOn platform:platform .

###############################
# Artifacts Resource Profiles #
###############################

# Complete here

filling-machine: a hmas:ResourceProfile ;
    hmas:isProfileOf filling-machine:artifact ;
    hmas:globalSpecification [
        sh:class hmas:ActionExecution ;
        sh:property [
            sh:path hmas:PathToBaseURI ;
            sh:minCount 1 ;
            sh:maxCount 1 ;
            sh:hasValue <ros+ws://172.16.1.111:9090>
        ]
    ] .

turtle-bot: a hmas:ResourceProfile ;
    hmas:isProfileOf turtle-bot:artifact .

conveyor-belt: a hmas:ResourceProfile ;
    hmas:isProfileOf conveyor-belt:artifact .

##############
# Workspaces #
##############

yogurt-production:workspace a hmas:Workspace ;
    hmas:isHostedOn platform:platform ;
    hmas:contains filling-machine:artifact ,
                  turtle-bot:artifact ,
                  conveyor-belt:artifact .

################################
# Workspaces Resource Profiles #
################################

yogurt-production: a hmas:ResourceProfile ; 
    hmas:exposeSignifiersFrom hmas:JacamoWorkspaceCatalog ;
    hmas:globalSpecification [
        sh:class hmas:ActionExecution ;
        sh:property [
            sh:path hmas:PathToBaseURI ;
            sh:minCount 1 ;
            sh:maxCount 1 ;
            sh:hasValue <workspaces/yogurt-production-site>
        ]
    ] .

##########
# Agents #
##########

agent-a:agent a hmas:Agent ;
    hmas:isHostedOn platform:platform ;
    hmas:isContainedIn yogurt-production:Workspace ;
    hmas:isMemberOf ypr-org:organization ;
    aa:hasBody body-agent-a:artifact.

agent-e:agent a hmas:Agent ;
    hmas:isHostedOn platform:platform ;
    hmas:isContainedIn yogurt-production:Workspace ;
    hmas:isMemberOf ypr-org:organization ;
    aa:hasBody body-agent-e:artifact.

############################
# Agents Resource Profiles #
############################

# Complete here

agent-a: a hmas:ResourceProfile ;
    hmas:isProfileOf agent-a:agent .

agent-e: a hmas:ResourceProfile ;
    hmas:isProfileOf agent-e:agent .

################
# Agent Bodies #
################

body-agent-a:artifact hmas:Artifact ;
    hmas:isHostedOn platform:platform ;
    hmas:hasProfile body-agent-b: ;
    aa:isBodyOf agent-a:agent.

body-agent-e:artifact hmas:Artifact ;
    hmas:isHostedOn platform:platform ;
    hmas:hasProfile body-agent-c: ;
    aa:isBodyOf agent-e:agent.

#########################
# Agent Bodies Profiles #
#########################

body-agent-b: a hmas:ResourceProfile ;
    hmas:isProfileOf body-agent-c:artifact ;
    hmas:exposeSignifiersFrom jacamo:PerformativeMessagingCatalog ;
    hmas:exposesSignifier jacamo:ReceivableAccept, 
                          jacamo:ReceivableRefuse,
                          jacamo:ReceivableFailure,
                          jacamo:ReceivableInformDone,
                          jacamo:ReceivableInformResult ;
    hmas:globalSpecification hmas:AuthorizationHeader, [
        sh:class hmas:ActionExecution ;
        sh:property [
            sh:path hmas:PathToBaseURI ;
            sh:minCount 1 ;
            sh:maxCount 1 ;
            sh:hasValue <http://example.org/TBA>
        ]
    ] .

body-agent-e: a hmas:ResourceProfile ;
    hmas:isProfileOf body-agent-e:artifact ;
    hmas:exposeSignifiersFrom jacamo:MessagingCatalog ;
    hmas:globalSpecification hmas:AuthorizationHeader, [
        sh:class hmas:ActionExecution ;
        sh:property [
            sh:path hmas:PathToBaseURI ;
            sh:minCount 1 ;
            sh:maxCount 1 ;
            sh:hasValue <http://example.org/TBA>
        ]
    ] .


################
# Organization #
################

ypr-org:organization a ex:GenericYogurtCompanyOrganization ;
    hmas:hasProfile ypr-org: ;
    hmas:hasOrganizationalValue ex:IntegrityRespect ;
    hmas:providesRole ex:FactoryManagerRepresentative , ex:FactoryManager , ex:Operator ;
    hmas:isStructuredBy ex:YPRBusinessGroup , ex:YPRProductionGroup .

############
# Platform #
############

platform: a hmas:HypermediaMASPlatform ;
    hmas:hasProfile <> .
