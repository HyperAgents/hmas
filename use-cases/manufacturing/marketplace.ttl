@base <https://jade.interactions.ics.unisg.ch/> .

@prefix plat: <ap-description#> .
@prefix mrk: <containers/Market-Place#> .

@prefix agent-ra: <containers/Market-Place/agents/agent-ra#> .
@prefix agent-rb: <containers/Market-Place/agents/agent-rb#> .

@prefix hmas: <https://purl.org/hmas/> .
@prefix jade: <https://purl.org/hmas/demo/jade#> .

@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix prov: <http://www.w3.org/ns/prov#> .
@prefix td: <https://www.w3.org/2019/wot/td#> .

@prefix cpr-org: <https://ns.inria.fr/hmas/organizations/instances/cpr#> .
@prefix ypr-org: <https://ns.inria.fr/hmas/organizations/instances/ypr#> .

##########
# Agents #
##########

agent-ra:agent a hmas:Agent ;
    hmas:hasProfile agent-ra: ;
    hmas:isHostedOn plat:platform ;
    hmas:isContainedIn mrk:workspace ;
    hmas:isMemberOf ypr-org:organization .

agent-rb:agent a hmas:Agent ;
    hmas:hasProfile agent-rb: ;
    hmas:isHostedOn plat:platform ;
    hmas:isContainedIn mrk:workspace ;
    hmas:isMemberOf cpr-org:organization .

agent-ra: a hmas:ResourceProfile ;
    hmas:exposeSignifiersFrom jade:JadeMessagingCatalog ;
    hmas:exposesSignifier jade:ReceivableRequest ;
    hmas:globalSpecification [
        sh:class hmas:ActionExecution ;
        sh:property [
            sh:path ( prov:used td:baseURI ) ;
            sh:minCount 1 ;
            sh:maxCount 1 ;
            sh:hasValue <http://eduroamverw-130-82-24-247.unisg.ch:7778>
        ]
    ] , [
        sh:class hmas:ActionExecution ;
        sh:property [
            sh:path ( hmas:hasInput hmas:hasReceiver ) ;
            sh:hasValue agent-ra: ;
            sh:minCount 1 ;
            sh:maxCount 1
        ]
    ] .

agent-rb: a hmas:ResourceProfile ;
    hmas:exposeSignifiersFrom jade:JadeMessagingCatalog ;
    hmas:exposesSignifier jade:ReceivableAccept ,
                          jade:ReceivableRefuse ,
                          jade:ReceivableFailure ,
                          jade:ReceivableInformDone ,
                          jade:ReceivableInformResult ;
    hmas:globalSpecification [
        sh:class hmas:ActionExecution ;
        sh:property [
            sh:path ( prov:used td:baseURI ) ;
            sh:minCount 1 ;
            sh:maxCount 1 ;
            sh:hasValue <http://eduroamverw-130-82-24-247.unisg.ch:7778>
        ]
    ] , [
        sh:class hmas:ActionExecution ;
        sh:property [
            sh:path ( hmas:hasInput hmas:hasReceiver ) ;
            sh:hasValue agent-rb: ;
            sh:minCount 1 ;
            sh:maxCount 1
        ]
    ] .

#############
# Workspace #
#############

mrk:workspace a hmas:Workspace ;
    hmas:hasProfile mrk: ;
    hmas:isHostedOn plat:platform ;
    hmas:contains agent-ra:, agent-rb: .

############
# Platform #
############

plat:platform a hmas:HypermediaMASPlatform ;
    hmas:hasProfile plat: ;
    hmas:contains mrk: .

plat: a hmas:ResourceProfile ;
    hmas:exposeSignifiersFrom jade:MessagingCatalog ;
    hmas:exposesSignifier jade:AgentContactable ;
    hmas:globalSpecification [
        sh:class hmas:ActionExecution ;
        sh:property [
            sh:path ( prov:used td:baseURI ) ;
            sh:minCount 1 ;
            sh:maxCount 1 ;
            sh:hasValue <http://eduroamverw-130-82-24-247.unisg.ch:7778>
        ]
    ] .
