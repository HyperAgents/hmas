@base <http://localhost:3000/> .

@prefix plat: <ap-description#> .
@prefix mrk: <Market-Place#> .

@prefix agent-ra: <Market-Place/agents/agent-ra#> .
@prefix agent-rb: <Market-Place/agents/agent-rb#> .

@prefix hmas: <https://purl.org/hmas/> .
@prefix hmas-dev: <https://purl.org/hmas/dev#> .
@prefix jade: <https://purl.org/hmas/jade#> .

@prefix sh: <http://www.w3.org/ns/shacl#> .

@prefix cpr-org: <https://ns.inria.fr/hmas/organizations/cpr#> .
@prefix ypr-org: <https://ns.inria.fr/hmas/organizations/ypr#> .

##########
# Agents #
##########

agent-ra:agent a hmas:Agent ;
    hmas:hasProfile agent-ra: ;
    hmas:isHostedOn plat:platform ;
    hmas:isContainedIn mrk:workspace ;
    hmas:isMemberOf ypr-org:organization .

agent-rb:agent a hmas:Agent ;
    hmas:hasProfile agent-rb: ;
    hmas:isHostedOn plat:platform ;
    hmas:isContainedIn mrk:workspace ;
    hmas:isMemberOf cpr-org:organization .

agent-ra: a hmas:ResourceProfile ;
    hmas:exposeSignifiersFrom hmas:JadeMessagingCatalog ;
    hmas:exposesSignifier jade:ReceivableRequest ;
    hmas:globalSpecification [
        sh:class hmas:ActionExecution ;
        sh:property [
            sh:path hmas:PathToBaseURI ;
            sh:minCount 1 ;
            sh:maxCount 1 ;
            sh:hasValue <http://eduroamverw-130-82-24-247.unisg.ch:7778>
        ]
    ] , [
        sh:class hmas:ActionExecution ;
        sh:property [
            sh:path ( hmas:hasInput hmas:hasReceiver ) ;
            sh:hasValue agent-ra: ;
            sh:minCount 1 ;
            sh:maxCount 1
        ]
    ] .

agent-rb: a hmas:ResourceProfile ;
    hmas:exposeSignifiersFrom hmas:JadeMessagingCatalog ;
    hmas:exposesSignifier jade:ReceivableAccept ,
                          jade:ReceivableRefuse ,
                          jade:ReceivableFailure ,
                          jade:ReceivableInformDone ,
                          jade:ReceivableInformResult ;
    hmas:globalSpecification [
        sh:class hmas:ActionExecution ;
        sh:property [
            sh:path hmas:PathToBaseURI ;
            sh:minCount 1 ;
            sh:maxCount 1 ;
            sh:hasValue <http://eduroamverw-130-82-24-247.unisg.ch:7778>
        ]
    ] , [
        sh:class hmas:ActionExecution ;
        sh:property [
            sh:path ( hmas:hasInput hmas:hasReceiver ) ;
            sh:hasValue agent-rb: ;
            sh:minCount 1 ;
            sh:maxCount 1
        ]
    ] .

#############
# Workspace #
#############

mrk:workspace a hmas:Workspace ;
    hmas:hasProfile mrk: ;
    hmas:isHostedOn plat:platform ;
    hmas:contains agent-ra:, agent-rb: .

############
# Platform #
############

plat:platform a hmas:HypermediaMASPlatform ;
    hmas:hasProfile plat: ;
    hmas:contains mrk: .

plat: a hmas:ResourceProfile ;
    hmas:exposeSignifiersFrom hmas:JadeMessagingCatalog ;
    hmas:globalSpecification hmas:AuthorizationHeader, [
        sh:class hmas:ActionExecution ;
        sh:property [
            sh:path hmas-dev:PathToBaseURI ;
            sh:minCount 1 ;
            sh:maxCount 1 ;
            sh:hasValue <http://eduroamverw-130-82-24-247.unisg.ch:7778>
        ]
    ] .
