@base <https://ns.inria.fr/hmas/> .

# Artifacts
@prefix robotic-arm-1: <workspaces/cup-production-site/artifacts/robotic-arm-1#> .
@prefix robotic-arm-2: <workspaces/cup-production-site/artifacts/robotic-arm-2#> .
@prefix truck: <workspaces/cup-production-site/artifacts/truck#> .

# Workspaces
@prefix cup-production: <workspaces/cup-production-site#> .

# Agents
@prefix agent-b: <workspaces/cup-production-site/agents/agent-b#> .
@prefix agent-c: <workspaces/cup-production-site/agents/agent-c#> .
@prefix agent-d: <workspaces/cup-production-site/agents/agent-d#> .

# Organizations
@prefix cpr-org: <organizations/cpr#> .

# Platforms
@prefix platform: <#platform> .

# Other prefixes
@prefix hmas: <https://purl.org/hmas/> .

@prefix sh: <http://www.w3.org/ns/shacl#> .

@prefix ufactory: <https://eu.robotshop.com/fr/collections/ufactory/> .
@prefix m5stack: <https://docs.m5stack.com/en/products/> .

@prefix ex: <https://www.example.org/> .

#############
# Artifacts #
#############

robotic-arm-1:artifact a hmas:Artifact ;
    hmas:isHostedOn platform:platform .

robotic-arm-2:artifact a hmas:Artifact ;
    hmas:isHostedOn platform:platform .

truck:artifact a hmas:Artifact ;
    hmas:isHostedOn platform:platform .

###############################
# Artifacts Resource Profiles #
###############################

robotic-arm-1: a hmas:ResourceProfile ;
    hmas:isProfileOf robotic-arm-1:artifact ;
    hmas:exposeSignifiersFrom ufactory:CherrybotCatalog ;
    hmas:globalSpecification hmas:AuthorizationHeader, [
        sh:class hmas:ActionExecution ;
        sh:property [
            sh:path hmas:PathToBaseURI ;
            sh:minCount 1 ;
            sh:maxCount 1 ;
            sh:hasValue <https://api.interactions.ics.unisg.ch/cherrybot1>
        ]
    ] .

robotic-arm-2: a hmas:ResourceProfile ;
    hmas:isProfileOf robotic-arm-2:artifact ;
    hmas:exposeSignifiersFrom ufactory:CherrybotCatalog ;
    hmas:globalSpecification hmas:AuthorizationHeader, [
        sh:class hmas:ActionExecution ;
        sh:property [
            sh:path hmas:PathToBaseURI ;
            sh:minCount 1 ;
            sh:maxCount 1 ;
            sh:hasValue <https://api.interactions.ics.unisg.ch/cherrybot2>
        ]
    ] .

truck: a hmas:ResourceProfile ;
    hmas:isProfileOf truck:artifact ;
    hmas:exposeSignifiersFrom m5stack:TruckCatalog ;
    hmas:globalSpecification hmas:AuthorizationHeader, [
        sh:class hmas:ActionExecution ;
        sh:property [
            sh:path hmas:PathToBaseURI ;
            sh:minCount 1 ;
            sh:maxCount 1 ;
            sh:hasValue <http://10.2.2.183>
        ]
    ] .

##############
# Workspaces #
##############

cup-production:workspace a hmas:Workspace ;
    hmas:isHostedOn platform:platform ;
    cup-production:hasProfile cup-production: ;
    hmas:contains robotic-arm-1:artifact, robotic-arm-2:artifact, truck:artifact .


################################
# Workspaces Resource Profiles #
################################

cup-production: a hmas:ResourceProfile ;
    hmas:exposeSignifiersFrom hmas:JacamoWorkspaceCatalog ;
    hmas:globalSpecification [
        sh:class hmas:ActionExecution ;
        sh:property [
            sh:path hmas:PathToBaseURI ;
            sh:minCount 1 ;
            sh:maxCount 1 ;
            sh:hasValue <workspaces/cup-production-site>
        ]
    ] .

##########
# Agents #
##########

agent-b:agent a hmas:Agent ;
    hmas:isHostedOn platform:platform ;
    hmas:hasProfile agent-b: ;
    hmas:isContainedIn cup-production:Workspace ;
    hmas:isMemberOf cpr-org:organization .

agent-c:agent a hmas:Agent ;
    hmas:isHostedOn platform:platform ;
    hmas:hasProfile agent-c: ;
    hmas:isContainedIn cup-production:Workspace ;
    hmas:isMemberOf cpr-org:organization .

agent-d:agent a hmas:Agent ;
    hmas:isHostedOn platform:platform ;
    hmas:hasProfile agent-d: ;
    hmas:isContainedIn cup-production:Workspace ;
    hmas:isMemberOf cpr-org:organization .

################
# Organization #
################

cpr-org:organization a ex:GenericCupCompanyOrganization ;
    hmas:hasProfile cpr-org: ;
    hmas:hasOrganizationalValue ex:IntegrityRespect ;
    hmas:providesRole ex:SellerRepresentative , ex:OrderManager , ex:Operator ;
    hmas:isStructuredBy ex:CPRBusinessGroup , ex:CPRProductionGroup .

############
# Platform #
############

platform: a hmas:HypermediaMASPlatform ;
    hmas:hasProfile <> .
