@base <https://ns.inria.fr/hmas/> .

# Artifacts
@prefix robotic-arm-1: <workspaces/cup-production-site/artifacts/robotic-arm-1#> .
@prefix robotic-arm-2: <workspaces/cup-production-site/artifacts/robotic-arm-2#> .
@prefix truck: <workspaces/cup-production-site/artifacts/truck#> .

# Workspaces
@prefix cup-production: <workspaces/cup-production-site#> .

# Agents
@prefix agent-b: <https://wiser-solid-xi.interactions.ics.unisg.ch/agent-b/profile/card#> .
@prefix agent-c: <https://wiser-solid-xi.interactions.ics.unisg.ch/agent-c/profile/card#> .
@prefix agent-d: <https://wiser-solid-xi.interactions.ics.unisg.ch/agent-d/profile/card#> .

# Agent Bodies
@prefix body-agent-b: <https://yggdrasil.interactions.ics.unisg.ch/workspaces/cup-production/agents/agent-b#> .
@prefix body-agent-c: <https://yggdrasil.interactions.ics.unisg.ch/workspaces/cup-production/agents/agent-c#> .
@prefix body-agent-d: <https://yggdrasil.interactions.ics.unisg.ch/workspaces/cup-production/agents/agent-d#> .

# Organizations
@prefix cpr-org: <organizations/instances/cpr#> .

# Platforms
@prefix platform: <#platform> .

# Other prefixes
@prefix hmas: <https://purl.org/hmas/> .
@prefix aa: <https://purl.org/hmas/> .
@prefix jacamo: <https://purl.org/hmas/demo/jacamo#> .

@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix prov: <http://www.w3.org/ns/prov#> .
@prefix td: <https://www.w3.org/2019/wot/td#> .

@prefix xarm: <artifacts/xarm#> .
@prefix roverbot: <artifacts/truck#> .

#############
# Artifacts #
#############

robotic-arm-1:artifact a hmas:Artifact ;
    hmas:isHostedOn platform:platform .

robotic-arm-2:artifact a hmas:Artifact ;
    hmas:isHostedOn platform:platform .

truck:artifact a hmas:Artifact ;
    hmas:isHostedOn platform:platform .

###############################
# Artifacts Resource Profiles #
###############################

robotic-arm-1: a hmas:ResourceProfile ;
    hmas:isProfileOf robotic-arm-1:artifact ;
    hmas:exposeSignifiersFrom xarm:XArmCatalog ;
    hmas:globalSpecification hmas:AuthorizationHeader, [
        sh:class hmas:ActionExecution ;
        sh:property [
            sh:path ( prov:used td:baseURI ) ;
            sh:minCount 1 ;
            sh:maxCount 1 ;
            sh:hasValue <https://api.interactions.ics.unisg.ch/xarm1>
        ]
    ] .

robotic-arm-2: a hmas:ResourceProfile ;
    hmas:isProfileOf robotic-arm-2:artifact ;
    hmas:exposeSignifiersFrom xarm:XArmCatalog ;
    hmas:globalSpecification hmas:AuthorizationHeader, [
        sh:class hmas:ActionExecution ;
        sh:property [
            sh:path ( prov:used td:baseURI ) ;
            sh:minCount 1 ;
            sh:maxCount 1 ;
            sh:hasValue <https://api.interactions.ics.unisg.ch/xarm2>
        ]
    ] .

truck: a hmas:ResourceProfile ;
    hmas:isProfileOf truck:artifact ;
    hmas:exposeSignifiersFrom roverbot:TruckCatalog ;
    hmas:globalSpecification hmas:AuthorizationHeader, [
        sh:class hmas:ActionExecution ;
        sh:property [
            sh:path ( prov:used td:baseURI ) ;
            sh:minCount 1 ;
            sh:maxCount 1 ;
            sh:hasValue <http://10.2.2.183>
        ]
    ] .

##############
# Workspaces #
##############

cup-production:workspace a hmas:Workspace ;
    hmas:isHostedOn platform:platform ;
    cup-production:hasProfile cup-production: ;
    hmas:contains robotic-arm-1:artifact, robotic-arm-2:artifact, truck:artifact .


################################
# Workspaces Resource Profiles #
################################

cup-production: a hmas:ResourceProfile ;
    hmas:exposeSignifiersFrom hmas:workspaceCatalog ;
    hmas:globalSpecification [
        sh:class hmas:ActionExecution ;
        sh:property [
            sh:path ( prov:used td:baseURI ) ;
            sh:minCount 1 ;
            sh:maxCount 1 ;
            sh:hasValue <workspaces/cup-production-site>
        ]
    ] .

##########
# Agents #
##########

agent-b:me a hmas:Agent ;
    hmas:isHostedOn platform:platform ;
    hmas:hasProfile agent-b: ;
    hmas:isContainedIn cup-production:Workspace ;
    hmas:isMemberOf cpr-org:organization ;
    aa:hasBody body-agent-b:artifact.

agent-c:me a hmas:Agent ;
    hmas:isHostedOn platform:platform ;
    hmas:hasProfile agent-c: ;
    hmas:isContainedIn cup-production:Workspace ;
    hmas:isMemberOf cpr-org:organization ;
    aa:hasBody body-agent-c:artifact.

agent-d:me a hmas:Agent ;
    hmas:isHostedOn platform:platform ;
    hmas:hasProfile agent-d: ;
    hmas:isContainedIn cup-production:Workspace ;
    hmas:isMemberOf cpr-org:organization ;
    aa:hasBody body-agent-d:artifact .

################
# Agent Bodies #
################

body-agent-b:artifact a hmas:Artifact ;
    hmas:isHostedOn platform:platform ;
    hmas:hasProfile body-agent-b: ;
    aa:isBodyOf agent-b:me .

body-agent-c:artifact a hmas:Artifact ;
    hmas:isHostedOn platform:platform ;
    hmas:hasProfile body-agent-c: ;
    aa:isBodyOf agent-c:me .

body-agent-d:artifact a hmas:Artifact ;
    hmas:isHostedOn platform:platform ;
    hmas:hasProfile body-agent-d: ;
    aa:isBodyOf agent-d:me .

#########################
# Agent Bodies Profiles #
#########################

body-agent-b: a hmas:ResourceProfile ;
    hmas:isProfileOf body-agent-c:artifact ;
    hmas:exposeSignifiersFrom jacamo:PerformativeMessagingCatalog ;
    hmas:exposesSignifier jacamo:ReceivableRequest ;
    hmas:globalSpecification hmas:AuthorizationHeader, [
        sh:class hmas:ActionExecution ;
        sh:property [
            sh:path ( prov:used td:baseURI ) ;
            sh:minCount 1 ;
            sh:maxCount 1 ;
            sh:hasValue <http://example.org/TBA>
        ]
    ] .

body-agent-c: a hmas:ResourceProfile ;
    hmas:isProfileOf body-agent-c:artifact ;
    hmas:exposeSignifiersFrom jacamo:MessagingCatalog ;
    hmas:globalSpecification hmas:AuthorizationHeader, [
        sh:class hmas:ActionExecution ;
        sh:property [
            sh:path ( prov:used td:baseURI ) ;
            sh:minCount 1 ;
            sh:maxCount 1 ;
            sh:hasValue <http://example.org/TBA>
        ]
    ] .

body-agent-d: a hmas:ResourceProfile ;
    hmas:isProfileOf body-agent-d:artifact ;
    hmas:exposeSignifiersFrom jacamo:MessagingCatalog ;
    hmas:globalSpecification hmas:AuthorizationHeader, [
        sh:class hmas:ActionExecution ;
        sh:property [
            sh:path ( prov:used td:baseURI ) ;
            sh:minCount 1 ;
            sh:maxCount 1 ;
            sh:hasValue <http://example.org/TBA>
        ]
    ] .

############
# Platform #
############

platform: a hmas:HypermediaMASPlatform ;
    hmas:hasProfile <> .
